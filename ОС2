Практическая работа по дисциплине "ОС и среды"
Тема: Диагностика сетевых подключений и основы сетевой безопасности в Windows
Цель работы: Освоить встроенные сетевые утилиты командной строки Windows для диагностики подключения, анализа сетевой активности и базовой настройки брандмауэра.

Диагностика сетевых подключений
Цели:
Научиться проверять базовую сетевую связность.
Освоить команды для просмотра и управления сетевыми интерфейсами.
Научиться отслеживать маршрут прохождения сетевых пакетов.
Проанализировать активные сетевые подключения системы.
Теоретическая справка
Любому системному администратору или IT-специалисту необходимо умение оперативно диагностировать проблемы в сети. Windows предоставляет для этого мощный набор консольных утилит.

Практические задания
Часть 1: Базовая диагностика

1. ping 8.8.8.8

Обмен пакетами с 8.8.8.8 по с 32 байтами данных:
Ответ от 8.8.8.8: число байт=32 время=26мс TTL=108
Ответ от 8.8.8.8: число байт=32 время=26мс TTL=108
Ответ от 8.8.8.8: число байт=32 время=26мс TTL=108
Ответ от 8.8.8.8: число байт=32 время=26мс TTL=108

Статистика Ping для 8.8.8.8:
    Пакетов: отправлено = 4, получено = 4, потеряно = 0
    (0% потерь)
Приблизительное время приема-передачи в мс:
    Минимальное = 26мсек, Максимальное = 26 мсек, Среднее = 26 мсек

2. ipconfig /release

Настройка протокола IP для Windows


Адаптер Ethernet Ethernet:

   DNS-суффикс подключения . . . . . :
   Локальный IPv6-адрес канала . . . : fe80::1c34:4310:470f:308f%10
   Основной шлюз. . . . . . . . . :

Адаптер Ethernet Ethernet 2:

   DNS-суффикс подключения . . . . . :
   Локальный IPv6-адрес канала . . . : fe80::1052:71a9:d772:6a62%15
   IPv4-адрес. . . . . . . . . . . . : 192.168.56.1
   Маска подсети . . . . . . . . . . : 255.255.255.0
   Основной шлюз. . . . . . . . . :
ipconfig /renew

Настройка протокола IP для Windows


Адаптер Ethernet Ethernet:

   DNS-суффикс подключения . . . . . :
   Локальный IPv6-адрес канала . . . : fe80::1c34:4310:470f:308f%10
   IPv4-адрес. . . . . . . . . . . . : 192.168.88.46
   Маска подсети . . . . . . . . . . : 255.255.255.0
   Основной шлюз. . . . . . . . . : 192.168.88.1

Адаптер Ethernet Ethernet 2:

   DNS-суффикс подключения . . . . . :
   Локальный IPv6-адрес канала . . . : fe80::1052:71a9:d772:6a62%15
   IPv4-адрес. . . . . . . . . . . . : 192.168.56.1
   Маска подсети . . . . . . . . . . : 255.255.255.0
   Основной шлюз. . . . . . . . . :
Часть 2: Анализ пути и подключений
1. tracert yandex.ru

Трассировка маршрута к yandex.ru [5.255.255.77]
с максимальным числом прыжков 30:

  1    <1 мс    <1 мс    <1 мс  192.168.88.1
  2    <1 мс    <1 мс    <1 мс  192.168.1.1
  3    <1 мс    <1 мс    <1 мс  10.110.96.145
  4    <1 мс    <1 мс    <1 мс  pegasus.rosintel.com [91.103.77.154]
  5     1 ms     1 ms     1 ms  stan.rosintel.com [178.252.252.10]
  6    13 ms    14 ms    13 ms  marionetka.yndx.net [195.208.209.1]
  7     *       13 ms    14 ms  10.4.2.1
  8    15 ms    15 ms    15 ms  yandex.ru [5.255.255.77]

Трассировка завершена.
2. netstat -a

Активные подключения

  Имя    Локальный адрес        Внешний адрес          Состояние
  TCP    0.0.0.0:135            DESKTOP-CR3D1C4:0      LISTENING
  TCP    0.0.0.0:445            DESKTOP-CR3D1C4:0      LISTENING
  TCP    0.0.0.0:5357           DESKTOP-CR3D1C4:0      LISTENING
  TCP    0.0.0.0:49664          DESKTOP-CR3D1C4:0      LISTENING
  TCP    0.0.0.0:49665          DESKTOP-CR3D1C4:0      LISTENING
  TCP    0.0.0.0:49666          DESKTOP-CR3D1C4:0      LISTENING
  TCP    0.0.0.0:49667          DESKTOP-CR3D1C4:0      LISTENING
  TCP    0.0.0.0:49668          DESKTOP-CR3D1C4:0      LISTENING
  TCP    0.0.0.0:49690          DESKTOP-CR3D1C4:0      LISTENING
  TCP    192.168.56.1:139       DESKTOP-CR3D1C4:0      LISTENING
  TCP    192.168.88.46:139      DESKTOP-CR3D1C4:0      LISTENING
  TCP    192.168.88.46:53553    lb-140-82-114-25-iad:https  ESTABLISHED
  TCP    192.168.88.46:53555    ec2-18-97-36-77:https  ESTABLISHED
  TCP    192.168.88.46:53567    lh-in-f188:5228        ESTABLISHED
  TCP    [::]:135               DESKTOP-CR3D1C4:0      LISTENING
  TCP    [::]:445               DESKTOP-CR3D1C4:0      LISTENING
  TCP    [::]:5357              DESKTOP-CR3D1C4:0      LISTENING
  TCP    [::]:49664             DESKTOP-CR3D1C4:0      LISTENING
  TCP    [::]:49665             DESKTOP-CR3D1C4:0      LISTENING
  TCP    [::]:49666             DESKTOP-CR3D1C4:0      LISTENING
  TCP    [::]:49667             DESKTOP-CR3D1C4:0      LISTENING
  TCP    [::]:49668             DESKTOP-CR3D1C4:0      LISTENING
  TCP    [::]:49690             DESKTOP-CR3D1C4:0      LISTENING
  UDP    0.0.0.0:3702           *:*
  UDP    0.0.0.0:3702           *:*
  UDP    0.0.0.0:3702           *:*
  UDP    0.0.0.0:3702           *:*
  UDP    0.0.0.0:5353           *:*
  UDP    0.0.0.0:5353           *:*
  UDP    0.0.0.0:5353           *:*
  UDP    0.0.0.0:5353           *:*
  UDP    0.0.0.0:5353           *:*
  UDP    0.0.0.0:5355           *:*
  UDP    0.0.0.0:61117          *:*
  UDP    0.0.0.0:61595          *:*
  UDP    127.0.0.1:1900         *:*
  UDP    127.0.0.1:61110        *:*
  UDP    127.0.0.1:61594        *:*
  UDP    192.168.56.1:137       *:*
  UDP    192.168.56.1:138       *:*
  UDP    192.168.56.1:1900      *:*
  UDP    192.168.56.1:61593     *:*
  UDP    192.168.88.46:137      *:*
  UDP    192.168.88.46:138      *:*
  UDP    192.168.88.46:1900     *:*
  UDP    192.168.88.46:61592    *:*
  UDP    [::]:3702              *:*
  UDP    [::]:3702              *:*
  UDP    [::]:3702              *:*
  UDP    [::]:3702              *:*
  UDP    [::]:5353              *:*
  UDP    [::]:5353              *:*
  UDP    [::]:5353              *:*
  UDP    [::]:5355              *:*
  UDP    [::]:61118             *:*
  UDP    [::]:61596             *:*
  UDP    [::1]:1900             *:*
  UDP    [::1]:61591            *:*
  UDP    [fe80::1052:71a9:d772:6a62%15]:1900  *:*
  UDP    [fe80::1052:71a9:d772:6a62%15]:61590  *:*
  UDP    [fe80::1c34:4310:470f:308f%10]:1900  *:*
  UDP    [fe80::1c34:4310:470f:308f%10]:61589  *:*
netstat -ano

Активные подключения

  Имя    Локальный адрес        Внешний адрес          Состояние       PID
  TCP    0.0.0.0:135            0.0.0.0:0              LISTENING       932
  TCP    0.0.0.0:445            0.0.0.0:0              LISTENING       4
  TCP    0.0.0.0:5357           0.0.0.0:0              LISTENING       4
  TCP    0.0.0.0:49664          0.0.0.0:0              LISTENING       856
  TCP    0.0.0.0:49665          0.0.0.0:0              LISTENING       732
  TCP    0.0.0.0:49666          0.0.0.0:0              LISTENING       1388
  TCP    0.0.0.0:49667          0.0.0.0:0              LISTENING       1812
  TCP    0.0.0.0:49668          0.0.0.0:0              LISTENING       2684
  TCP    0.0.0.0:49690          0.0.0.0:0              LISTENING       848
  TCP    192.168.56.1:139       0.0.0.0:0              LISTENING       4
  TCP    192.168.88.46:139      0.0.0.0:0              LISTENING       4
  TCP    192.168.88.46:53553    140.82.114.25:443      ESTABLISHED     2848
  TCP    192.168.88.46:53555    18.97.36.77:443        ESTABLISHED     2848
  TCP    192.168.88.46:53567    64.233.161.188:5228    ESTABLISHED     2848
  TCP    [::]:135               [::]:0                 LISTENING       932
  TCP    [::]:445               [::]:0                 LISTENING       4
  TCP    [::]:5357              [::]:0                 LISTENING       4
  TCP    [::]:49664             [::]:0                 LISTENING       856
  TCP    [::]:49665             [::]:0                 LISTENING       732
  TCP    [::]:49666             [::]:0                 LISTENING       1388
  TCP    [::]:49667             [::]:0                 LISTENING       1812
  TCP    [::]:49668             [::]:0                 LISTENING       2684
  TCP    [::]:49690             [::]:0                 LISTENING       848
  UDP    0.0.0.0:3702           *:*                                    3320
  UDP    0.0.0.0:3702           *:*                                    3428
  UDP    0.0.0.0:3702           *:*                                    3320
  UDP    0.0.0.0:3702           *:*                                    3428
  UDP    0.0.0.0:5353           *:*                                    5152
  UDP    0.0.0.0:5353           *:*                                    2420
  UDP    0.0.0.0:5353           *:*                                    5152
  UDP    0.0.0.0:5353           *:*                                    5152
  UDP    0.0.0.0:5353           *:*                                    5152
  UDP    0.0.0.0:5355           *:*                                    2420
  UDP    0.0.0.0:61117          *:*                                    3320
  UDP    0.0.0.0:61595          *:*                                    3428
  UDP    127.0.0.1:1900         *:*                                    3720
  UDP    127.0.0.1:61110        *:*                                    3488
  UDP    127.0.0.1:61594        *:*                                    3720
  UDP    192.168.56.1:137       *:*                                    4
  UDP    192.168.56.1:138       *:*                                    4
  UDP    192.168.56.1:1900      *:*                                    3720
  UDP    192.168.56.1:61593     *:*                                    3720
  UDP    192.168.88.46:137      *:*                                    4
  UDP    192.168.88.46:138      *:*                                    4
  UDP    192.168.88.46:1900     *:*                                    3720
  UDP    192.168.88.46:61592    *:*                                    3720
  UDP    [::]:3702              *:*                                    3320
  UDP    [::]:3702              *:*                                    3428
  UDP    [::]:3702              *:*                                    3320
  UDP    [::]:3702              *:*                                    3428
  UDP    [::]:5353              *:*                                    5152
  UDP    [::]:5353              *:*                                    2420
  UDP    [::]:5353              *:*                                    5152
  UDP    [::]:5355              *:*                                    2420
  UDP    [::]:61118             *:*                                    3320
  UDP    [::]:61596             *:*                                    3428
  UDP    [::1]:1900             *:*                                    3720
  UDP    [::1]:61591            *:*                                    3720
  UDP    [fe80::1052:71a9:d772:6a62%15]:1900  *:*                                    3720
  UDP    [fe80::1052:71a9:d772:6a62%15]:61590  *:*                                    3720
  UDP    [fe80::1c34:4310:470f:308f%10]:1900  *:*                                    3720
  UDP    [fe80::1c34:4310:470f:308f%10]:61589  *:*                                    3720
1. Разница между ping 8.8.8.8 и ping google.com
Разница заключается в том, на каком этапе процесса преобразования имен происходит проверка связи.
2. Для чего используется файл hosts?
Файл hosts — это локальный текстовый файл, который выполняет роль простой системы доменных имен (DNS) прямо на вашем компьютере. Он сопоставляет доменные имена с IP-адресами.
